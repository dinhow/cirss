<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Interativa de Reativa√ß√£o de Sistemas de Seguran√ßa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <!-- Chosen Palette: Warm Neutrals with Slate Blue Accent -->
    <!-- Application Structure Plan: A guided, single-page tool. It now starts by sizing the system (Phase 1 cost) before estimating Phase 2 complexity. This creates a more logical and accurate estimation flow. Phase 1 cost is now dynamic based on system size, addressing a key user requirement for variable audit pricing. The rest of the structure remains, flowing from the known (audit cost) to the unknown (repair cost). -->
    <!-- Visualization & Content Choices: Added a system size selector (buttons) for Phase 1. This choice dynamically updates the Phase 1 cost text and the overall summary calculation. The Phase 2 bar chart remains, visualizing the variable nature of repairs. This enhances the tool's accuracy while keeping its educational purpose. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        .btn-active {
            background-color: #374151;
            color: white;
            box-shadow: 0 4px 14px 0 rgb(55 65 81 / 39%);
        }
        .btn-inactive {
            background-color: #e5e7eb;
            color: #4b5563;
        }
        .section-title {
            color: #1f2937;
            font-weight: 600;
            font-size: 1.5rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .icon-placeholder {
            font-size: 1.75rem;
            color: #374151;
            line-height: 1;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-6xl">

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">Calculadora Interativa de Reativa√ß√£o de Sistemas</h1>
            <p class="text-lg text-gray-600">Uma ferramenta para estimar e entender o processo de revitaliza√ß√£o do seu sistema de seguran√ßa.</p>
        </header>

        <main class="space-y-12">
            
            <!-- Phase 1 Section -->
            <section id="phase-1" class="card p-6 md:p-8">
                <div class="flex items-center mb-6">
                    <div class="bg-gray-800 text-white rounded-full w-10 h-10 flex items-center justify-center text-xl font-bold mr-4">1</div>
                    <h2 class="section-title flex-1 !mb-0 !pb-0 !border-none">Fase 1: Auditoria e Diagn√≥stico (O Alicerce)</h2>
                </div>
                
                <p class="mb-6 text-gray-600">Esta fase inicial √© o passo mais importante. O custo da auditoria depende do tamanho do sistema, pois um local maior exige mais tempo de an√°lise. Selecione o porte do seu sistema para uma estimativa mais precisa do valor fixo do diagn√≥stico.</p>

                <div class="mb-8">
                    <h3 class="font-semibold text-lg text-center text-gray-700 mb-3">Qual o tamanho do seu sistema?</h3>
                    <div class="flex justify-center flex-wrap gap-2 sm:gap-4">
                        <button id="btn-small" class="size-btn btn-active px-4 py-2 rounded-lg font-semibold transition-all duration-200">Pequeno (at√© 20 pontos)</button>
                        <button id="btn-medium-size" class="size-btn btn-inactive px-4 py-2 rounded-lg font-semibold transition-all duration-200">M√©dio (21-60 pontos)</button>
                        <button id="btn-large" class="size-btn btn-inactive px-4 py-2 rounded-lg font-semibold transition-all duration-200">Grande (acima de 60)</button>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div>
                        <h3 class="font-semibold text-xl mb-4 text-gray-700">O que n√≥s fazemos:</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="icon-placeholder mr-4">üìã</span>
                                <div>
                                    <h4 class="font-semibold">Invent√°rio F√≠sico Detalhado</h4>
                                    <p class="text-gray-500 text-sm">Levantamento de todas as c√¢meras, sensores, centrais e componentes instalados.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="icon-placeholder mr-4">üîç</span>
                                <div>
                                    <h4 class="font-semibold">Verifica√ß√£o Funcional</h4>
                                    <p class="text-gray-500 text-sm">An√°lise do status operacional de cada dispositivo para identificar o que funciona e o que n√£o funciona.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="icon-placeholder mr-4">üó∫Ô∏è</span>
                                <div>
                                    <h4 class="font-semibold">Mapeamento do Sistema (Croqui)</h4>
                                    <p class="text-gray-500 text-sm">Elabora√ß√£o de um diagrama com a localiza√ß√£o exata e identifica√ß√£o de cada equipamento.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="font-semibold text-xl mb-4 text-gray-700">O que voc√™ recebe:</h3>
                         <ul class="space-y-4 mb-6">
                            <li class="flex items-center">
                                <span class="text-green-500 text-2xl mr-3">‚úì</span>
                                <span>Relat√≥rio de Auditoria completo.</span>
                            </li>
                            <li class="flex items-center">
                                <span class="text-green-500 text-2xl mr-3">‚úì</span>
                                <span>Invent√°rio detalhado de equipamentos.</span>
                            </li>
                            <li class="flex items-center">
                                <span class="text-green-500 text-2xl mr-3">‚úì</span>
                                <span>Croqui da instala√ß√£o (mapa do sistema).</span>
                            </li>
                             <li class="flex items-center">
                                <span class="text-green-500 text-2xl mr-3">‚úì</span>
                                <span>Or√ßamento preciso para a Fase 2.</span>
                            </li>
                        </ul>
                        <div class="text-center border-t pt-4">
                            <p class="text-gray-600 font-medium">Valor Fixo Estimado para o Diagn√≥stico:</p>
                            <p id="phase-1-cost" class="text-3xl font-bold text-gray-800">A partir de R$ 480</p>
                            <p id="phase-1-hours" class="text-sm text-gray-500">Estimativa de 4 horas de servi√ßo</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Phase 2 Section -->
            <section id="phase-2" class="card p-6 md:p-8">
                <div class="flex items-center mb-6">
                    <div class="bg-gray-800 text-white rounded-full w-10 h-10 flex items-center justify-center text-xl font-bold mr-4">2</div>
                    <h2 class="section-title flex-1 !mb-0 !pb-0 !border-none">Fase 2: Manuten√ß√£o e Reativa√ß√£o (Estimativa Interativa)</h2>
                </div>

                <p class="mb-6 text-gray-600">Com o diagn√≥stico em m√£os, partimos para a reativa√ß√£o. O custo aqui √© vari√°vel e depende da complexidade das falhas encontradas. Use os bot√µes abaixo para simular diferentes cen√°rios e entender o impacto no or√ßamento. O modelo √© de <strong>Tempo & Materiais (T&M)</strong>: voc√™ paga apenas pelas horas trabalhadas e pe√ßas utilizadas.</p>
                
                <div class="flex justify-center space-x-2 sm:space-x-4 mb-6">
                    <button id="btn-low" class="complexity-btn btn-active px-4 py-2 rounded-lg font-semibold transition-all duration-200">Baixa Complexidade</button>
                    <button id="btn-medium-complexity" class="complexity-btn btn-inactive px-4 py-2 rounded-lg font-semibold transition-all duration-200">M√©dia Complexidade</button>
                    <button id="btn-high" class="complexity-btn btn-inactive px-4 py-2 rounded-lg font-semibold transition-all duration-200">Alta Complexidade</button>
                </div>

                <div class="grid lg:grid-cols-5 gap-8 items-center">
                    <div class="lg:col-span-3">
                        <div class="chart-container">
                            <canvas id="costChart"></canvas>
                        </div>
                    </div>
                    <div class="lg:col-span-2 bg-gray-50 p-6 rounded-lg">
                        <h3 id="scenario-title" class="font-semibold text-xl mb-3 text-gray-800">Cen√°rio: Baixa Complexidade</h3>
                        <p id="scenario-description" class="text-gray-600 mb-4 h-32">Normalmente envolve falhas simples e pontuais, que n√£o exigem grande retrabalho de infraestrutura.</p>
                        <ul id="scenario-tasks" class="space-y-2 text-sm text-gray-700">
                            <li>- Troca de conectores defeituosos.</li>
                            <li>- Substitui√ß√£o de uma ou duas fontes de alimenta√ß√£o.</li>
                            <li>- Reparo ou troca de um sensor de alarme.</li>
                        </ul>
                    </div>
                </div>
                <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                    <div class="flex items-center">
                        <span class="material-symbols-outlined text-yellow-500 mr-3">warning</span>
                        <div>
                            <p class="font-bold text-yellow-800">Observa√ß√£o Importante</p>
                            <p class="text-sm text-yellow-700">Esta estimativa cobre reparos comuns. Falhas complexas na infraestrutura (ex: cabos rompidos, problemas em dutos) ser√£o or√ßadas √† parte para sua aprova√ß√£o antes de qualquer trabalho adicional.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Summary Section -->
            <section id="summary" class="bg-gray-800 text-white rounded-lg p-6 md:p-8 text-center">
                <h2 class="text-2xl font-bold mb-4">Estimativa Total do Projeto</h2>
                <p class="text-gray-300 mb-6">Esta √© uma proje√ß√£o que combina o custo da auditoria (baseado no tamanho) com a estimativa da reativa√ß√£o (baseada na complexidade).</p>
                <div class="flex flex-col md:flex-row justify-center items-center md:space-x-8 space-y-4 md:space-y-0">
                    <div class="text-center">
                        <p class="text-gray-400 uppercase text-sm tracking-wider">Fase 1 (Estimado)</p>
                        <p id="summary-phase-1-cost" class="text-2xl font-semibold">R$ 480</p>
                    </div>
                    <div class="text-4xl font-light text-gray-500">+</div>
                    <div class="text-center">
                        <p class="text-gray-400 uppercase text-sm tracking-wider">Fase 2 (Estimado)</p>
                        <p id="summary-phase-2-cost" class="text-2xl font-semibold">R$ 600</p>
                    </div>
                    <div class="text-4xl font-light text-gray-500">=</div>
                    <div class="text-center bg-white text-gray-900 p-4 rounded-lg">
                        <p class="uppercase text-sm tracking-wider font-semibold">Total Estimado</p>
                        <p id="summary-total-cost" class="text-3xl font-bold">R$ 1.080</p>
                    </div>
                </div>
            </section>

            <!-- Next Steps -->
            <section id="next-steps" class="text-center py-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-3">Pr√≥ximos Passos</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mb-6">O primeiro passo √© aprovar a <strong>Fase 1: Auditoria e Diagn√≥stico</strong>. Com o relat√≥rio t√©cnico em m√£os, teremos a seguran√ßa e a precis√£o necess√°rias para reativar seu sistema de forma eficiente e com o melhor custo-benef√≠cio.</p>
                <a href="https://wa.me/5541991073895?text=Ol√°!%20Gostaria%20de%20agendar%20a%20auditoria%20t√©cnica." target="_blank" class="inline-block bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors duration-300 shadow-lg">
                    Agendar a Auditoria T√©cnica
                </a>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const hourlyRate = 150; // R$ por hora

            const systemSizes = {
                small: { hours: 4, textPrefix: 'A partir de ' },
                medium: { hours: 8, textPrefix: 'A partir de ' },
                large: { hours: 0, textPrefix: 'Sob Consulta' } 
            };

            const complexityScenarios = {
                low: {
                    title: 'Cen√°rio: Baixa Complexidade',
                    description: 'Normalmente envolve falhas simples e pontuais, que n√£o exigem grande retrabalho de infraestrutura.',
                    tasks: [
                        '- Troca de conectores defeituosos (BNC, P4).',
                        '- Substitui√ß√£o de uma ou duas fontes de alimenta√ß√£o.',
                        '- Reparo ou troca de um sensor de alarme acess√≠vel.'
                    ],
                    costs: { labor: 400, materials: 200 }
                },
                medium: {
                    title: 'Cen√°rio: M√©dia Complexidade',
                    description: 'Envolve a substitui√ß√£o de alguns equipamentos e reconfigura√ß√µes no sistema central.',
                    tasks: [
                        '- Substitui√ß√£o de algumas c√¢meras ou sensores.',
                        '- Troca de uma fonte de alimenta√ß√£o centralizada.',
                        '- Reconfigura√ß√£o de grava√ß√£o e detec√ß√£o no DVR/NVR.'
                    ],
                    costs: { labor: 800, materials: 650 }
                },
                high: {
                    title: 'Cen√°rio: Alta Complexidade',
                    description: 'Requer diagn√≥stico avan√ßado e pode envolver interven√ß√£o na infraestrutura de cabos ou rede.',
                    tasks: [
                        '- Repasse de um trecho de cabeamento.',
                        '- Diagn√≥stico de falhas em switches de rede (CFTV IP).',
                        '- Substitui√ß√£o de m√∫ltiplos equipamentos cr√≠ticos.'
                    ],
                    costs: { labor: 1600, materials: 1200 }
                }
            };

            let currentSize = 'small';
            let currentComplexity = 'low';

            const phase1CostEl = document.getElementById('phase-1-cost');
            const phase1HoursEl = document.getElementById('phase-1-hours');
            const summaryPhase1CostEl = document.getElementById('summary-phase-1-cost');
            const summaryPhase2CostEl = document.getElementById('summary-phase-2-cost');
            const summaryTotalCostEl = document.getElementById('summary-total-cost');
            const scenarioTitleEl = document.getElementById('scenario-title');
            const scenarioDescriptionEl = document.getElementById('scenario-description');
            const scenarioTasksEl = document.getElementById('scenario-tasks');
            
            const sizeButtons = document.querySelectorAll('.size-btn');
            const complexityButtons = document.querySelectorAll('.complexity-btn');

            const ctx = document.getElementById('costChart').getContext('2d');
            const costChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['M√£o de Obra', 'Materiais'],
                    datasets: [{
                        label: 'Custo Estimado (R$)',
                        data: [complexityScenarios.low.costs.labor, complexityScenarios.low.costs.materials],
                        backgroundColor: ['rgba(55, 65, 81, 0.8)', 'rgba(107, 114, 128, 0.8)'],
                        borderColor: ['rgb(55, 65, 81)', 'rgb(107, 114, 128)'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: { x: { beginAtZero: true, ticks: { callback: value => 'R$ ' + value } } },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: context => {
                                    let label = context.dataset.label || '';
                                    if (label) label += ': ';
                                    if (context.parsed.x !== null) {
                                        label += new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(context.parsed.x);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            function formatCurrency(value) {
                return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(value);
            }

            function updateDisplay() {
                // Update Phase 1
                const sizeData = systemSizes[currentSize];
                const phase1Cost = sizeData.hours * hourlyRate;

                if (currentSize === 'large') {
                    phase1CostEl.textContent = sizeData.textPrefix;
                    phase1HoursEl.textContent = 'O tempo de servi√ßo ser√° definido ap√≥s visita t√©cnica.';
                    summaryPhase1CostEl.textContent = 'a definir';
                } else {
                    phase1CostEl.textContent = sizeData.textPrefix + formatCurrency(phase1Cost);
                    phase1HoursEl.textContent = `Estimativa de ${sizeData.hours} horas de servi√ßo`;
                    summaryPhase1CostEl.textContent = formatCurrency(phase1Cost);
                }
                
                // Update Phase 2
                const complexityData = complexityScenarios[currentComplexity];
                scenarioTitleEl.textContent = complexityData.title;
                scenarioDescriptionEl.textContent = complexityData.description;
                scenarioTasksEl.innerHTML = complexityData.tasks.map(task => `<li>${task}</li>`).join('');
                
                const phase2Total = complexityData.costs.labor + complexityData.costs.materials;
                summaryPhase2CostEl.textContent = formatCurrency(phase2Total);
                
                costChart.data.datasets[0].data = [complexityData.costs.labor, complexityData.costs.materials];
                costChart.update();

                // Update Summary
                if (currentSize === 'large') {
                    summaryTotalCostEl.textContent = 'a definir';
                } else {
                    const totalProjectCost = phase1Cost + phase2Total;
                    summaryTotalCostEl.textContent = formatCurrency(totalProjectCost);
                }
            }

            sizeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    currentSize = button.id.split('-')[1];
                    if (button.id.includes('medium-size')) currentSize = 'medium';
                    sizeButtons.forEach(btn => btn.classList.replace('btn-active', 'btn-inactive'));
                    button.classList.replace('btn-inactive', 'btn-active');
                    updateDisplay();
                });
            });

            complexityButtons.forEach(button => {
                button.addEventListener('click', () => {
                    currentComplexity = button.id.split('-')[1];
                    if (button.id.includes('medium-complexity')) currentComplexity = 'medium';

                    complexityButtons.forEach(btn => btn.classList.replace('btn-active', 'btn-inactive'));
                    button.classList.replace('btn-inactive', 'btn-active');
                    updateDisplay();
                });
            });

            updateDisplay();
        });
    </script>
</body>
</html>
